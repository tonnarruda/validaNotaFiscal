{"ast":null,"code":"var _jsxFileName = \"/Users/georgemjunior/workspace/Georgem/nf-decoder-ai/frontend/src/components/NfValidator.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport * as XLSX from 'xlsx';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NfValidator = () => {\n  _s();\n  const [comparisonData, setComparisonData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [newNf, setNewNf] = useState({\n    cnpj: '',\n    numero: '',\n    valor: ''\n  });\n  const formatCurrency = value => {\n    if (typeof value !== 'number') return 'R$ 0,00';\n    return value.toLocaleString('pt-BR', {\n      style: 'currency',\n      currency: 'BRL'\n    });\n  };\n  const normalizeString = str => {\n    if (!str) return '';\n    return str.toString().replace(/[.\\-/]/g, '');\n  };\n  const handleClearAll = () => {\n    setComparisonData([]);\n    setError('');\n    // Reset file inputs if possible/needed, though state clearing is usually enough\n  };\n  const handleNewNfChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setNewNf(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleAddNewNf = () => {\n    if (!newNf.cnpj || !newNf.numero || !newNf.valor) {\n      setError(\"Preencha todos os campos para adicionar uma nota manual.\");\n      return;\n    }\n    const newRow = {\n      nfCnpj: newNf.cnpj,\n      nfNumero: newNf.numero,\n      nfValor: parseFloat(newNf.valor.replace(',', '.')) || 0.0,\n      plCnpj: 'N/A',\n      plNumero: 'N/A',\n      plValor: 0.0,\n      status: 'Divergente' // Manually added items are divergent by default\n    };\n    setComparisonData(prevData => [...prevData, newRow]);\n    setNewNf({\n      cnpj: '',\n      numero: '',\n      valor: ''\n    }); // Reset form\n    setError('');\n  };\n  const onPdfDrop = useCallback(async acceptedFiles => {\n    if (acceptedFiles.length === 0) return;\n    setLoading(true);\n    setError('');\n    const formData = new FormData();\n    acceptedFiles.forEach(file => {\n      formData.append('files', file);\n    });\n    try {\n      const response = await fetch('/upload', {\n        method: 'POST',\n        body: formData\n      });\n      if (!response.ok) {\n        const errData = await response.json();\n        throw new Error(errData.error || 'Erro no servidor ao processar PDFs.');\n      }\n      const nfData = await response.json();\n      const newComparisonData = nfData.map(nf => ({\n        nfCnpj: nf['CNPJ (NF)'],\n        nfNumero: nf['Número da Nota (NF)'],\n        nfValor: nf['Valor (NF)'],\n        plCnpj: 'N/A',\n        plNumero: 'N/A',\n        plValor: 0.0,\n        status: 'Divergente'\n      }));\n      setComparisonData(prevData => [...prevData, ...newComparisonData]);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n  const onExcelDrop = useCallback(acceptedFiles => {\n    if (acceptedFiles.length === 0 || comparisonData.length === 0) {\n      if (comparisonData.length === 0) {\n        setError(\"Por favor, importe os PDFs primeiro.\");\n      }\n      return;\n    }\n    const file = acceptedFiles[0];\n    const reader = new FileReader();\n    reader.onload = event => {\n      try {\n        const bstr = event.target.result;\n        const wb = XLSX.read(bstr, {\n          type: 'binary'\n        });\n        const wsname = wb.SheetNames[0];\n        const ws = wb.Sheets[wsname];\n        const data = XLSX.utils.sheet_to_json(ws, {\n          header: 1\n        });\n\n        // Assume header is in the first row\n        const header = data[0];\n        const cnpjIndex = header.findIndex(h => h.toLowerCase().includes('cnpj'));\n        const nfNumeroIndex = header.findIndex(h => h.toLowerCase().includes('nota'));\n        const valorIndex = header.findIndex(h => h.toLowerCase().includes('valor'));\n        if (cnpjIndex === -1 || nfNumeroIndex === -1 || valorIndex === -1) {\n          setError(\"A planilha Excel deve conter as colunas 'CNPJ', 'Nota' e 'Valor'.\");\n          return;\n        }\n        const excelDataMap = new Map();\n        data.slice(1).forEach(row => {\n          const key = `${normalizeString(row[cnpjIndex])}-${normalizeString(row[nfNumeroIndex])}`;\n          excelDataMap.set(key, {\n            cnpj: row[cnpjIndex],\n            numero: row[nfNumeroIndex],\n            valor: parseFloat(row[valorIndex]) || 0.0\n          });\n        });\n        const updatedComparisonData = comparisonData.map(item => {\n          const key = `${normalizeString(item.nfCnpj)}-${normalizeString(item.nfNumero)}`;\n          const match = excelDataMap.get(key);\n          if (match) {\n            const nfValor = parseFloat(item.nfValor);\n            const plValor = match.valor;\n            const status = Math.abs(nfValor - plValor) < 0.01 ? 'Convergente' : 'Divergente';\n            return {\n              ...item,\n              plCnpj: match.cnpj,\n              plNumero: match.numero,\n              plValor: plValor,\n              status: status\n            };\n          }\n          return item;\n        });\n        setComparisonData(updatedComparisonData);\n      } catch (err) {\n        setError(\"Erro ao processar o arquivo Excel.\");\n      }\n    };\n    reader.readAsBinaryString(file);\n  }, [comparisonData]);\n  const {\n    getRootProps: getPdfRootProps,\n    getInputProps: getPdfInputProps\n  } = useDropzone({\n    onDrop: onPdfDrop,\n    accept: {\n      'application/pdf': ['.pdf']\n    },\n    multiple: true\n  });\n  const {\n    getRootProps: getExcelRootProps,\n    getInputProps: getExcelInputProps\n  } = useDropzone({\n    onDrop: onExcelDrop,\n    accept: {\n      'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet': ['.xlsx'],\n      'application/vnd.ms-excel': ['.xls']\n    },\n    multiple: false\n  });\n  const getStatusClass = status => {\n    switch (status) {\n      case 'Convergente':\n        return 'bg-green-100 text-green-800';\n      case 'Divergente':\n        return 'bg-red-100 text-red-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white p-8 rounded-lg shadow-lg\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold\",\n        children: \"Validador de Notas Fiscais\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleClearAll,\n        className: \"bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded transition-colors\",\n        children: \"Limpar Tudo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed top-0 left-0 w-full h-full bg-black bg-opacity-50 flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-white text-xl\",\n        children: \"Processando PDFs...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4\",\n      role: \"alert\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        ...getPdfRootProps(),\n        className: \"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-blue-500 bg-gray-50 transition-colors\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          ...getPdfInputProps()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-blue-600 font-semibold\",\n          children: \"IMPORTAR NOTAS FISCAIS (PDF)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500 mt-1\",\n          children: \"Arraste e solte os PDFs aqui, ou clique para selecionar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ...getExcelRootProps(),\n        className: \"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-purple-500 bg-gray-50 transition-colors\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          ...getExcelInputProps()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-purple-600 font-semibold\",\n          children: \"IMPORTAR PLANILHA EXCEL\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500 mt-1\",\n          children: \"Arraste e solte o Excel aqui, ou clique para selecionar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overflow-x-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"min-w-full bg-white\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          className: \"bg-gray-200\",\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"py-3 px-4 text-left text-sm font-semibold text-gray-600\",\n              children: \"CNPJ (NF)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"py-3 px-4 text-left text-sm font-semibold text-gray-600\",\n              children: \"N\\xFAmero da Nota (NF)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"py-3 px-4 text-left text-sm font-semibold text-gray-600\",\n              children: \"Valor (NF)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"py-3 px-4 text-left text-sm font-semibold text-gray-600\",\n              children: \"CNPJ (Planilha)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"py-3 px-4 text-left text-sm font-semibold text-gray-600\",\n              children: \"N\\xFAmero da Nota (Planilha)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"py-3 px-4 text-left text-sm font-semibold text-gray-600\",\n              children: \"Valor (Planilha)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"py-3 px-4 text-center text-sm font-semibold text-gray-600\",\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: comparisonData.length > 0 ? comparisonData.map((item, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"border-b hover:bg-gray-50\",\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"py-3 px-4\",\n              children: item.nfCnpj\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"py-3 px-4\",\n              children: item.nfNumero\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"py-3 px-4\",\n              children: formatCurrency(item.nfValor)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"py-3 px-4\",\n              children: item.plCnpj\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"py-3 px-4\",\n              children: item.plNumero\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"py-3 px-4\",\n              children: formatCurrency(item.plValor)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"py-3 px-4 text-center\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `px-3 py-1 text-xs font-medium rounded-full ${getStatusClass(item.status)}`,\n                children: item.status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 17\n          }, this)) : /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              colSpan: \"7\",\n              className: \"text-center py-10 text-gray-500\",\n              children: \"Aguardando importa\\xE7\\xE3o dos arquivos...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 7\n    }, this), comparisonData.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-end items-center mt-4 text-sm text-gray-600\",\n      children: `Mostrando 1-${comparisonData.length} de ${comparisonData.length}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-8 pt-6 border-t\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-semibold mb-4 text-gray-700\",\n        children: \"Adicionar Nota Manualmente\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-4 gap-4 items-end\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"cnpj\",\n          value: newNf.cnpj,\n          onChange: handleNewNfChange,\n          placeholder: \"CNPJ (NF)\",\n          className: \"p-2 border rounded w-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"numero\",\n          value: newNf.numero,\n          onChange: handleNewNfChange,\n          placeholder: \"N\\xFAmero da Nota (NF)\",\n          className: \"p-2 border rounded w-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"valor\",\n          type: \"number\",\n          value: newNf.valor,\n          onChange: handleNewNfChange,\n          placeholder: \"Valor (NF)\",\n          className: \"p-2 border rounded w-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleAddNewNf,\n          className: \"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded transition-colors w-full\",\n          children: \"Adicionar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 184,\n    columnNumber: 5\n  }, this);\n};\n_s(NfValidator, \"ODXh+zdN2ALhfvGoUwGazw8Fk2k=\", false, function () {\n  return [useDropzone, useDropzone];\n});\n_c = NfValidator;\nexport default NfValidator;\nvar _c;\n$RefreshReg$(_c, \"NfValidator\");","map":{"version":3,"names":["React","useState","useCallback","useDropzone","XLSX","jsxDEV","_jsxDEV","NfValidator","_s","comparisonData","setComparisonData","loading","setLoading","error","setError","newNf","setNewNf","cnpj","numero","valor","formatCurrency","value","toLocaleString","style","currency","normalizeString","str","toString","replace","handleClearAll","handleNewNfChange","e","name","target","prev","handleAddNewNf","newRow","nfCnpj","nfNumero","nfValor","parseFloat","plCnpj","plNumero","plValor","status","prevData","onPdfDrop","acceptedFiles","length","formData","FormData","forEach","file","append","response","fetch","method","body","ok","errData","json","Error","nfData","newComparisonData","map","nf","err","message","onExcelDrop","reader","FileReader","onload","event","bstr","result","wb","read","type","wsname","SheetNames","ws","Sheets","data","utils","sheet_to_json","header","cnpjIndex","findIndex","h","toLowerCase","includes","nfNumeroIndex","valorIndex","excelDataMap","Map","slice","row","key","set","updatedComparisonData","item","match","get","Math","abs","readAsBinaryString","getRootProps","getPdfRootProps","getInputProps","getPdfInputProps","onDrop","accept","multiple","getExcelRootProps","getExcelInputProps","getStatusClass","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","role","index","colSpan","onChange","placeholder","_c","$RefreshReg$"],"sources":["/Users/georgemjunior/workspace/Georgem/nf-decoder-ai/frontend/src/components/NfValidator.jsx"],"sourcesContent":["import React, { useState, useCallback } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport * as XLSX from 'xlsx';\n\nconst NfValidator = () => {\n  const [comparisonData, setComparisonData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [newNf, setNewNf] = useState({ cnpj: '', numero: '', valor: '' });\n\n  const formatCurrency = (value) => {\n    if (typeof value !== 'number') return 'R$ 0,00';\n    return value.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });\n  };\n  \n  const normalizeString = (str) => {\n    if (!str) return '';\n    return str.toString().replace(/[.\\-/]/g, '');\n  }\n\n  const handleClearAll = () => {\n    setComparisonData([]);\n    setError('');\n    // Reset file inputs if possible/needed, though state clearing is usually enough\n  };\n\n  const handleNewNfChange = (e) => {\n    const { name, value } = e.target;\n    setNewNf(prev => ({ ...prev, [name]: value }));\n  };\n\n  const handleAddNewNf = () => {\n    if (!newNf.cnpj || !newNf.numero || !newNf.valor) {\n      setError(\"Preencha todos os campos para adicionar uma nota manual.\");\n      return;\n    }\n    const newRow = {\n      nfCnpj: newNf.cnpj,\n      nfNumero: newNf.numero,\n      nfValor: parseFloat(newNf.valor.replace(',', '.')) || 0.0,\n      plCnpj: 'N/A',\n      plNumero: 'N/A',\n      plValor: 0.0,\n      status: 'Divergente', // Manually added items are divergent by default\n    };\n    setComparisonData(prevData => [...prevData, newRow]);\n    setNewNf({ cnpj: '', numero: '', valor: '' }); // Reset form\n    setError('');\n  };\n\n  const onPdfDrop = useCallback(async (acceptedFiles) => {\n    if (acceptedFiles.length === 0) return;\n\n    setLoading(true);\n    setError('');\n\n    const formData = new FormData();\n    acceptedFiles.forEach(file => {\n      formData.append('files', file);\n    });\n\n    try {\n      const response = await fetch('/upload', {\n        method: 'POST',\n        body: formData,\n      });\n\n      if (!response.ok) {\n        const errData = await response.json();\n        throw new Error(errData.error || 'Erro no servidor ao processar PDFs.');\n      }\n\n      const nfData = await response.json();\n\n      const newComparisonData = nfData.map(nf => ({\n        nfCnpj: nf['CNPJ (NF)'],\n        nfNumero: nf['Número da Nota (NF)'],\n        nfValor: nf['Valor (NF)'],\n        plCnpj: 'N/A',\n        plNumero: 'N/A',\n        plValor: 0.0,\n        status: 'Divergente',\n      }));\n\n      setComparisonData(prevData => [...prevData, ...newComparisonData]);\n\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  const onExcelDrop = useCallback((acceptedFiles) => {\n    if (acceptedFiles.length === 0 || comparisonData.length === 0) {\n        if (comparisonData.length === 0) {\n            setError(\"Por favor, importe os PDFs primeiro.\");\n        }\n        return;\n    }\n\n    const file = acceptedFiles[0];\n    const reader = new FileReader();\n\n    reader.onload = (event) => {\n        try {\n            const bstr = event.target.result;\n            const wb = XLSX.read(bstr, { type: 'binary' });\n            const wsname = wb.SheetNames[0];\n            const ws = wb.Sheets[wsname];\n            const data = XLSX.utils.sheet_to_json(ws, { header: 1 });\n            \n            // Assume header is in the first row\n            const header = data[0];\n            const cnpjIndex = header.findIndex(h => h.toLowerCase().includes('cnpj'));\n            const nfNumeroIndex = header.findIndex(h => h.toLowerCase().includes('nota'));\n            const valorIndex = header.findIndex(h => h.toLowerCase().includes('valor'));\n\n            if(cnpjIndex === -1 || nfNumeroIndex === -1 || valorIndex === -1) {\n                setError(\"A planilha Excel deve conter as colunas 'CNPJ', 'Nota' e 'Valor'.\");\n                return;\n            }\n\n            const excelDataMap = new Map();\n            data.slice(1).forEach(row => {\n                const key = `${normalizeString(row[cnpjIndex])}-${normalizeString(row[nfNumeroIndex])}`;\n                excelDataMap.set(key, {\n                    cnpj: row[cnpjIndex],\n                    numero: row[nfNumeroIndex],\n                    valor: parseFloat(row[valorIndex]) || 0.0,\n                });\n            });\n\n            const updatedComparisonData = comparisonData.map(item => {\n                const key = `${normalizeString(item.nfCnpj)}-${normalizeString(item.nfNumero)}`;\n                const match = excelDataMap.get(key);\n\n                if (match) {\n                    const nfValor = parseFloat(item.nfValor);\n                    const plValor = match.valor;\n                    const status = Math.abs(nfValor - plValor) < 0.01 ? 'Convergente' : 'Divergente';\n\n                    return {\n                        ...item,\n                        plCnpj: match.cnpj,\n                        plNumero: match.numero,\n                        plValor: plValor,\n                        status: status,\n                    };\n                }\n                return item;\n            });\n\n            setComparisonData(updatedComparisonData);\n\n        } catch (err) {\n            setError(\"Erro ao processar o arquivo Excel.\");\n        }\n    };\n    reader.readAsBinaryString(file);\n  }, [comparisonData]);\n\n  const { getRootProps: getPdfRootProps, getInputProps: getPdfInputProps } = useDropzone({\n    onDrop: onPdfDrop,\n    accept: { 'application/pdf': ['.pdf'] },\n    multiple: true\n  });\n  \n  const { getRootProps: getExcelRootProps, getInputProps: getExcelInputProps } = useDropzone({\n    onDrop: onExcelDrop,\n    accept: { 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet': ['.xlsx'], 'application/vnd.ms-excel': ['.xls'] },\n    multiple: false\n  });\n\n  const getStatusClass = (status) => {\n    switch (status) {\n      case 'Convergente': return 'bg-green-100 text-green-800';\n      case 'Divergente': return 'bg-red-100 text-red-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  return (\n    <div className=\"bg-white p-8 rounded-lg shadow-lg\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h1 className=\"text-3xl font-bold\">Validador de Notas Fiscais</h1>\n        <button \n          onClick={handleClearAll}\n          className=\"bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded transition-colors\"\n        >\n          Limpar Tudo\n        </button>\n      </div>\n      \n      {loading && (\n        <div className=\"fixed top-0 left-0 w-full h-full bg-black bg-opacity-50 flex items-center justify-center z-50\">\n            <div className=\"text-white text-xl\">Processando PDFs...</div>\n        </div>\n      )}\n\n      {error && <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4\" role=\"alert\">{error}</div>}\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8\">\n        <div {...getPdfRootProps()} className=\"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-blue-500 bg-gray-50 transition-colors\">\n          <input {...getPdfInputProps()} />\n          <p className=\"text-blue-600 font-semibold\">IMPORTAR NOTAS FISCAIS (PDF)</p>\n          <p className=\"text-sm text-gray-500 mt-1\">Arraste e solte os PDFs aqui, ou clique para selecionar</p>\n        </div>\n        <div {...getExcelRootProps()} className=\"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-purple-500 bg-gray-50 transition-colors\">\n          <input {...getExcelInputProps()} />\n          <p className=\"text-purple-600 font-semibold\">IMPORTAR PLANILHA EXCEL</p>\n          <p className=\"text-sm text-gray-500 mt-1\">Arraste e solte o Excel aqui, ou clique para selecionar</p>\n        </div>\n      </div>\n\n      <div className=\"overflow-x-auto\">\n        <table className=\"min-w-full bg-white\">\n          <thead className=\"bg-gray-200\">\n            <tr>\n              <th className=\"py-3 px-4 text-left text-sm font-semibold text-gray-600\">CNPJ (NF)</th>\n              <th className=\"py-3 px-4 text-left text-sm font-semibold text-gray-600\">Número da Nota (NF)</th>\n              <th className=\"py-3 px-4 text-left text-sm font-semibold text-gray-600\">Valor (NF)</th>\n              <th className=\"py-3 px-4 text-left text-sm font-semibold text-gray-600\">CNPJ (Planilha)</th>\n              <th className=\"py-3 px-4 text-left text-sm font-semibold text-gray-600\">Número da Nota (Planilha)</th>\n              <th className=\"py-3 px-4 text-left text-sm font-semibold text-gray-600\">Valor (Planilha)</th>\n              <th className=\"py-3 px-4 text-center text-sm font-semibold text-gray-600\">Status</th>\n            </tr>\n          </thead>\n          <tbody>\n            {comparisonData.length > 0 ? (\n              comparisonData.map((item, index) => (\n                <tr key={index} className=\"border-b hover:bg-gray-50\">\n                  <td className=\"py-3 px-4\">{item.nfCnpj}</td>\n                  <td className=\"py-3 px-4\">{item.nfNumero}</td>\n                  <td className=\"py-3 px-4\">{formatCurrency(item.nfValor)}</td>\n                  <td className=\"py-3 px-4\">{item.plCnpj}</td>\n                  <td className=\"py-3 px-4\">{item.plNumero}</td>\n                  <td className=\"py-3 px-4\">{formatCurrency(item.plValor)}</td>\n                  <td className=\"py-3 px-4 text-center\">\n                    <span className={`px-3 py-1 text-xs font-medium rounded-full ${getStatusClass(item.status)}`}>\n                      {item.status}\n                    </span>\n                  </td>\n                </tr>\n              ))\n            ) : (\n              <tr>\n                <td colSpan=\"7\" className=\"text-center py-10 text-gray-500\">\n                  Aguardando importação dos arquivos...\n                </td>\n              </tr>\n            )}\n          </tbody>\n        </table>\n      </div>\n      {comparisonData.length > 0 && \n        <div className=\"flex justify-end items-center mt-4 text-sm text-gray-600\">\n            {`Mostrando 1-${comparisonData.length} de ${comparisonData.length}`}\n        </div>\n      }\n\n      <div className=\"mt-8 pt-6 border-t\">\n        <h2 className=\"text-xl font-semibold mb-4 text-gray-700\">Adicionar Nota Manualmente</h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 items-end\">\n            <input \n              name=\"cnpj\" \n              value={newNf.cnpj} \n              onChange={handleNewNfChange} \n              placeholder=\"CNPJ (NF)\" \n              className=\"p-2 border rounded w-full\"\n            />\n            <input \n              name=\"numero\" \n              value={newNf.numero} \n              onChange={handleNewNfChange} \n              placeholder=\"Número da Nota (NF)\" \n              className=\"p-2 border rounded w-full\"\n            />\n            <input \n              name=\"valor\"\n              type=\"number\"\n              value={newNf.valor} \n              onChange={handleNewNfChange} \n              placeholder=\"Valor (NF)\" \n              className=\"p-2 border rounded w-full\"\n            />\n            <button \n              onClick={handleAddNewNf}\n              className=\"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded transition-colors w-full\"\n            >\n              Adicionar\n            </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default NfValidator; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}